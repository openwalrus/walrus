# P5-02: `walrus init` Command

## Goal

Add an `init` subcommand to the CLI that scaffolds a new workspace directory
with default configuration files and directory structure.

## Depends On

P5-01 (workspace schema), P4-03 (CLI skeleton with Command enum),
P4-07 (cmd/mod.rs exists).

## Design Decisions

- `walrus init <name>` creates a new directory with the workspace structure.
- `walrus init .` initializes the current directory (must be empty or have
  no conflicting files).
- Generated files: `walrus.toml` (minimal gateway config with defaults),
  `agents/default.toml` (a hello-world agent), `skills/` (empty dir),
  `mcp/` (empty dir), `cron/` (empty dir), `.gitignore` (ignores `data/`).
- Templates are hardcoded strings in the binary — no external template
  files needed. Layout constants duplicated from workspace schema to
  avoid walrus-cli depending on walrus-gateway.
- Prints a summary of created files and a "next steps" hint after init.

## Files

- **CREATE** `app/cli/src/cmd/init.rs` — init subcommand implementation
- **MODIFY** `app/cli/src/cmd/mod.rs` — add mod init
- **MODIFY** `app/cli/src/lib.rs` — add Init variant to Command enum
- **MODIFY** `app/cli/src/bin/main.rs` — wire Init subcommand

## Tests

- `init_creates_structure` — verify all expected files and dirs created
- `init_walrus_toml_valid` — verify generated walrus.toml parses as config
- `init_refuses_nonempty_dir` — verify error when conflicting files exist
- `init_dot_current_dir` — verify `walrus init .` works

## Done When

- [ ] `cargo check --workspace` and `cargo test --workspace` pass
- [ ] `walrus init my-project` creates correct directory structure
- [ ] Generated `walrus.toml` is valid GatewayConfig
