# P4-03: walrus-cli Crate Skeleton + Clap Subcommands

## Goal

Set up walrus-cli with a binary entry point and clap-derived subcommand
structure. No business logic — just argument parsing and dispatch skeleton.

## Depends On

None.

## Design Decisions

- Binary entry point at `src/bin/main.rs` per project convention.
- Uses clap derive API for subcommand enum.
- Subcommands: Chat, Send, Agent, Memory, Config, Init, Attach, Hub.
- Global flags: `--gateway <url>`, `--model <name>`, `--agent <name>`.
- `--gateway` flag presence determines direct vs gateway mode.
- `lib.rs` exports the Cli struct and subcommand enum for testability.

## Files

- **MODIFY** `app/cli/Cargo.toml` — depends on walrus-runtime, walrus-core,
  walrus-llm, clap, tokio, anyhow, tracing; add `[[bin]]` section
- **MODIFY** `app/cli/src/lib.rs` — Cli struct, Command enum
- **CREATE** `app/cli/src/bin/main.rs` — parse args, dispatch to subcommands

## Tests

- `cli_parse_chat` — verify `walrus chat` parses correctly
- `cli_parse_send` — verify `walrus send "hello"` parses correctly
- `cli_parse_gateway_flag` — verify `--gateway ws://...` captured

## Done When

- [ ] `cargo check --workspace` passes
- [ ] `cargo build -p walrus-cli` produces a binary
- [ ] `walrus --help` displays subcommand list
