# P2-06: Implement Telegram Channel (connect + send)

## Goal

Implement TelegramChannel's connect and send methods using the Telegram
Bot API via reqwest.

## Depends On

P2-05 (TelegramChannel crate skeleton).

## Design Decisions

- connect() uses long polling via `getUpdates` API with `timeout` parameter.
  Returns `impl Stream<Item = Event>` that yields ChannelMessages.
- send() calls `sendMessage` API with chat_id and text content.
- Update tracking: stores last `update_id` to avoid duplicate messages.
  Passes `offset = last_id + 1` to getUpdates.
- Converts Telegram Update JSON to ChannelMessage: extracts chat.id as
  channel_id, from.id as sender_id, text as content, photo/document as
  attachments.
- Poll interval: configurable, default 1 second between getUpdates calls
  (in addition to the long-poll timeout).

## Files

- **MODIFY** `crates/telegram/src/lib.rs` — implement connect() and send()

## Tests

- `channel_message_from_update` — verify JSON to ChannelMessage conversion
- `send_message_url_format` — verify correct API URL construction

## Done When

- [x] `cargo check --workspace` and `cargo test --workspace` pass
- [x] connect() returns a stream of ChannelMessages
- [x] send() constructs correct Telegram API request
