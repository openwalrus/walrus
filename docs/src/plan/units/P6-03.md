# P6-03: Hub Search and Info

## Goal

Implement search and info logic that queries the local manifest index by
name, description, and tags, with formatted output for the CLI.

## Depends On

P6-02 (HubRegistry with manifest listing).

## Design Decisions

- `HubRegistry::search(query)` — case-insensitive substring match against
  name, description, tags, and author. Returns matches sorted by relevance:
  exact name match first, then tag match, then description match.
- `HubRegistry::info(name, workspace_root: Option<&Path>)` — returns
  `ManifestInfo` struct with manifest data, source name, and installed
  status. Installed status checked via Lockfile (from P6-01) when a
  workspace root is provided, `None` otherwise.
- `ManifestInfo` struct: manifest (Manifest), source_name (`CompactString`),
  installed (`Option<bool>`, None when no workspace).
- If local index is empty, search returns an error suggesting
  `walrus hub update` first.
- Output formatting in `format.rs`: `format_search_results(results)` and
  `format_manifest_info(info)` return Strings. Tabular output for search,
  detailed view for info.

## Files

- **CREATE** `app/hub/src/search.rs` — search logic, ManifestInfo
- **CREATE** `app/hub/src/format.rs` — format_search_results, format_info
- **MODIFY** `app/hub/src/registry.rs` — add search and info methods
- **MODIFY** `app/hub/src/lib.rs` — add mod search, mod format

## Tests

- `search_by_name` — exact name match ranks first
- `search_by_tag` — tag match returns correct results
- `search_case_insensitive` — "Twitter" matches "twitter"
- `search_empty_index_errors` — clear error when no local cache
- `info_returns_full_details` — ManifestInfo fields populated

## Done When

- [ ] `cargo check --workspace` and `cargo test --workspace` pass
- [ ] Search returns relevant results sorted by relevance
- [ ] Info displays full manifest details with install status
