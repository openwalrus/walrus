# P1-04: Add Skill Struct and SkillTier

## Goal

Define Skill data struct and SkillTier enum in walrus-core. Pure data — parsing and
registry logic live in walrus-runtime (Phase 2).

## Depends On

P1-00 (identity fields use `CompactString`).

## Design Decisions

- Skill is a struct, not a trait. All skills have the same shape.
- Aligned with the [agentskills.io](https://agentskills.io/specification)
  specification. Fields: name, description, license, compatibility, metadata
  (`BTreeMap<CompactString, String>`), allowed_tools, body.
- No serde derives in walrus-core. Populated by SkillRegistry parser in runtime.
- SkillTier is a runtime concept — assigned by SkillRegistry during loading
  based on source directory (bundled / managed / workspace). Not stored on Skill.
- Runtime concepts (tier, priority) live in the registry, not the data struct.
  Priority can be stored in metadata if needed.
- Identity fields (name) use `CompactString`.

## Files

- **CREATE** `crates/core/src/skill.rs`
- **MODIFY** `crates/core/src/lib.rs` — add mod, re-export Skill, SkillTier

## Types

- **Skill**: name (`CompactString`), description (String), license (`Option<CompactString>`), compatibility (`Option<CompactString>`), metadata (`BTreeMap<CompactString, String>`), allowed_tools (`Vec<CompactString>`), body (String). Derives: Debug, Clone.
- **SkillTier**: Bundled < Managed < Workspace. Derives: Debug, Clone, Copy, PartialEq, Eq, PartialOrd, Ord.

## Tests

- `skill_tier_ordering` — verify Bundled < Managed < Workspace
- `skill_fields_match_spec` — verify Skill struct fields match agentskills.io spec

## Done When

- [x] `cargo check --workspace` passes
- [x] Skill and SkillTier re-exported from walrus-core
