# P4-07: CLI Management Commands (agent, memory, config)

## Goal

Implement the agent, memory, and config subcommands for the CLI. Direct-mode
only in v1.

## Depends On

P4-04.

## Design Decisions

- `walrus agent list` — lists registered agents (name + description).
- `walrus agent info <name>` — shows agent details (system prompt, tools).
- `walrus memory list` — shows all memory entries.
- `walrus memory get <key>` — shows a specific memory entry.
- `walrus config show` — prints current config.
- `walrus config set <key> <value>` — sets a config value.
- Config stored in `~/.walrus/config.toml` (TOML per DD#12).
- Management commands print a clear message if `--gateway` is used
  (gateway introspection is future work).

## Files

- **CREATE** `app/cli/src/cmd/mod.rs` — submodule declarations
- **CREATE** `app/cli/src/cmd/agent.rs` — agent list, agent info
- **CREATE** `app/cli/src/cmd/memory.rs` — memory list, memory get
- **CREATE** `app/cli/src/cmd/config.rs` — config show, config set
- **MODIFY** `app/cli/src/lib.rs` — add mod cmd
- **MODIFY** `app/cli/src/bin/main.rs` — wire Agent, Memory, Config subcommands

## Tests

- `config_toml_roundtrip` — verify config serializes/deserializes as TOML
- `agent_list_output` — verify agent list formats correctly

## Done When

- [ ] `cargo check --workspace` passes
- [ ] `walrus agent list` shows agents in direct mode
- [ ] `walrus config show` prints current configuration
- [ ] `walrus config set model deepseek-chat` persists to config file
